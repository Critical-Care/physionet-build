{% extends "project/project.html" %}

{% block title %}Project Files{% endblock %}

{% block form %}
<h2 class="form-signin-heading">Files for "{{ project.title|title }}"</h2>
<hr>
<p>
  <a href="" class="btn btn-success"><i class="fa fa-arrow-circle-up"></i> Upload Files</a>
  <a href="" class="btn btn-success"><i class="fa fa-folder-open"></i> Create Folder</a>
  <a href="" class="btn btn-danger" style="float:right"><i class="fa fa-search"></i> Delete Files</a>
</p>
<div class="card">
  <div class="card-header">
    &nbsp;&nbsp;&nbsp;In folder: <strong>/{{ sub_item }}</strong>
    {% if sub_item %}
      <a href="{% url 'project_files' project.id '' %}" style="float:right">Return to base folder</a>
    {% endif %}
  </div>
<!--   <div class="card-header">
      <div class="row">
        <div class="col-md-8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name</div>
        <div class="col-md-2">Size</div>
        <div class="col-md-2">Modified</div>
      </div>
  </div> -->
  <ul class="list-group list-group-flush">
    <li class="list-group-item">
      <div class="row">
        <div class="col-md-8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Name</strong></div>
        <div class="col-md-2"><strong>Size</strong></div>
        <div class="col-md-2"><strong>Modified</strong></div>
      </div>
    </li>
    {% if sub_item %}
      <li class="list-group-item">
        <div class="row">
          <div class="col-md-8">&nbsp;<i class="fas fa-angle-up"></i>&nbsp;&nbsp;<a href="../">Parent Directory</a></div>
          <div class="col-md-2"></div>
          <div class="col-md-2"></div>
        </div>
      </li> 
    {% endif %}
    {% for dir in display_dirs %}
      <li class="list-group-item">
        <div class="row">
          <div class="col-md-8"><i class="fas fa-folder-open"></i>&nbsp;&nbsp;<a href="{{ dir.name }}/">{{ dir.name }}</a></div>
          <div class="col-md-2"></div>
          <div class="col-md-2"></div>
        </div>
      </li>
    {% endfor %}
    {% for file in display_files %}
      <li class="list-group-item">
        <div class="row">
          <div class="col-md-8">&nbsp;<i class="far fa-file"></i>&nbsp;&nbsp;&nbsp;<a href="{{ file.name }}">{{ file.name }}</a></div>
          <div class="col-md-2">{{ file.size }}</div>
          <div class="col-md-2">{{ file.last_modified }}</div>
        </div>
      </li>
    {% endfor %}
  </ul>



</div>

<!-- https://github.com/MIT-LCP/physionet-build/blob/testing/physionet-django/physiobank/templates/physiobank/database.html -->
{% endblock %}
